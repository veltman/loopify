!function(){function n(n,o){var t=new(window.AudioContext||window.webkitAudioContext),e=new XMLHttpRequest;e.responseType="arraybuffer",e.open("GET",n,!0);var i=t.createGain();function u(n){var e;function u(){e&&(e.stop(),e=null)}o(null,{play:function o(){u(),(e=t.createBufferSource()).connect(t.destination),e.buffer=n,e.loop=!0,e.start(0)},stop:u,rate:function n(o){e&&(e.playbackRate.value=o)},gain:function n(o){e&&(i.gain.value=o-1,i.connect(t.destination),e.connect(i))}})}e.onerror=function(){o(Error("Couldn't load audio from "+n))},e.onload=function(){t.decodeAudioData(e.response,u,function(t){o(Error("Couldn't decode audio from "+n))})},e.send()}n.version="0.2","function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:this.loopify=n}();
